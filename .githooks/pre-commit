#!/bin/bash

# PayslipMax Git Pre-Commit Hook
# Enforces architecture quality standards automatically
# Prevents technical debt introduction

echo "üõ°Ô∏è PayslipMax Architecture Quality Gate"
echo "======================================="

# Run the pre-commit enforcement script
if ! ./Scripts/pre-commit-enforcement.sh; then
    echo ""
    echo "‚ùå Commit blocked due to quality gate failures"
    echo "Please fix the violations and try again."
    echo ""
    echo "üí° Quick fixes:"
    echo "  ‚Ä¢ File too large? Use: ./Scripts/component-extraction-helper.sh --suggest <file>"
    echo "  ‚Ä¢ MVVM violation? Remove SwiftUI imports from services"
    echo "  ‚Ä¢ Async violation? Replace DispatchSemaphore with async/await"
    echo "  ‚Ä¢ Build failure? Fix compilation errors first"
    echo ""
    exit 1
fi

echo ""
echo "‚úÖ All quality gates passed! Proceeding with commit..."
exit 0
