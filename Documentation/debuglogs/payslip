App is being debugged, do not track this hang
Hang detected: 0.37s (debugger attached, not reporting)
Document picked: file:///private/var/mobile/Containers/Shared/AppGroup/13BEC3B8-94DE-4ABD-BD72-BE0DD9718F6E/File%20Provider%20Storage/Payslips/2025/05%20May%202025.pdf
Copying file to: file:///private/var/mobile/Containers/Data/Application/89E2AE22-F1B9-4122-BE61-A689AC36A9A7/tmp/19030FAB-E2B2-41E0-BC6D-286AE76D172A.pdf
Copied file size: 69660 bytes
[PDFProcessingCoordinator] Processing payslip PDF from: file:///private/var/mobile/Containers/Data/Application/89E2AE22-F1B9-4122-BE61-A689AC36A9A7/tmp/19030FAB-E2B2-41E0-BC6D-286AE76D172A.pdf
[PDFProcessingCoordinator] PDF is password protected, showing password entry
[PasswordProtectedPDFHandler] Showing password entry for PDF with 69660 bytes
[PasswordProtectedPDFHandler] Confirmed PDF is locked
[PasswordProtectedPDFHandler] Setting showPasswordEntryView to true
The view service did terminate with error: Error Domain=_UIViewServiceErrorDomain Code=1 "(null)" UserInfo={Terminated=disconnect method}
App is being debugged, do not track this hang
Hang detected: 0.66s (debugger attached, not reporting)
PasswordProtectedPDFView: Attempting to unlock PDF with password: 5***
[PCDAPayslipHandler] Attempting to unlock PCDA PDF
PasswordProtectedPDFView: Attempting to unlock PDF with password: 5***
PDFProcessingPipeline: PDF unlocked successfully
PDFProcessingPipeline: Using special military PDF handling
PDFProcessingPipeline: Created new unlocked document for military PDF
[PDFProcessingCoordinator] Handling unlocked PDF with 108637 bytes
[PayslipValidationService] Is password protected: false
[PDFProcessingHandler] PDF is password protected: false
[PDFProcessingHandler] PDF document is locked: false
[PayslipFormatDetectionService] Detecting format from 7671 characters of text
[PayslipFormatDetectionService] Detected defense format
[PDFProcessingCoordinator] Detected format: defense
[PDFProcessingCoordinator] PDF document created successfully with 7 pages
[PDFProcessingCoordinator] Processing PDF data with 108637 bytes
[PDFProcessingHandler] Process PDF Data started with 108637 bytes
[PDFProcessingHandler] Valid PDF document created with 7 pages
[PayslipValidationService] Is password protected: false
[PDFProcessingHandler] PDF is password protected: false
[PDFProcessingHandler] PDF document is locked: false
[PayslipFormatDetectionService] Detecting format from 7671 characters of text
[PayslipFormatDetectionService] Detected defense format
[PDFProcessingHandler] Detected format: defense
[PDFProcessingHandler] Calling pdfProcessingService.processPDFData
[PDFProcessingService] Processing PDF of size: 108637 bytes
[PayslipValidationService] Validating PDF structure
[PayslipValidationService] Is password protected: false
[ValidationStep] Completed in 0.00015103816986083984 seconds
[PDFTextExtractionService] Memory after page 1/7: 145.6 MB (Δ32 KB)
[PDFTextExtractionService] Memory after page 2/7: 145.7 MB (Δ96 KB)
[PDFTextExtractionService] Memory after page 3/7: 145.7 MB (Δ32 KB)
[PDFTextExtractionService] Memory after page 4/7: 145.7 MB (ΔZero KB)
[PDFTextExtractionService] Memory after page 5/7: 145.7 MB (ΔZero KB)
[PDFTextExtractionService] Memory after page 6/7: 145.7 MB (ΔZero KB)
[PDFTextExtractionService] Memory after page 7/7: 145.7 MB (ΔZero KB)
[PDFTextExtractionService] Successfully extracted 7664 characters from 7 pages
[PayslipValidationService] Validating payslip content from 7664 characters
[PayslipValidationService] Payslip validation - valid: true, confidence: 1.0
[TextExtractionStep] Extracted 7664 characters of text
[TextExtractionStep] Completed in 0.015908002853393555 seconds
[PayslipFormatDetectionService] Detecting format from 7664 characters of text
[PayslipFormatDetectionService] Detected defense format
[FormatDetectionStep] Detected format: defense
[FormatDetectionStep] Completed in 0.00021708011627197266 seconds
[UnifiedDefensePayslipProcessor] Processing defense payslip from 7664 characters
[DynamicMilitaryPatternService] Loaded pay structure with 9 levels
[MilitaryPatternExtractor] Detected military level: 12A
[MilitaryPatternExtractor] Dynamic extracted BasicPay: ₹144700.0
[MilitaryPatternExtractor] BasicPay validation: Basic Pay for Lieutenant Colonel within valid range
[MilitaryPatternExtractor] Dynamic extracted TPTA: ₹3600.0
[MilitaryPatternExtractor] TPTA validation: TPTA matches expected ₹3600.0
[MilitaryPatternExtractor] Dynamic extracted TPTADA: ₹1980.0
[MilitaryPatternExtractor] TPTADA validation: TPTADA matches expected ₹1980.0
[MilitaryPatternExtractor] Dynamic extracted DA: ₹88110.0
[MilitaryPatternExtractor] DA validation: DA ₹88110.0 within valid range (40-65% of basic pay)
[MilitaryPatternExtractor] Dynamic extracted RH12: ₹21125.0
[MilitaryPatternExtractor] RH12 validation: RH12 ₹21125.0 appropriate for Lieutenant Colonel
[MilitaryPatternExtractor] Dynamic extracted MSP: ₹15500.0
[MilitaryPatternExtractor] MSP validation: MSP matches expected ₹15500.0
[MilitaryPatternExtractor] Static extracted ARR-RSHNA: ₹1650.0
[MilitaryPatternExtractor] Static extracted DSOP: ₹40000.0
[MilitaryPatternExtractor] Static extracted AGIF: ₹12500.0
[MilitaryPatternExtractor] Static extracted EHCESS: ₹1866.0
[MilitaryPatternExtractor] Static extracted ITAX: ₹46641.0
[MilitaryPatternExtractor] Static extracted credits: ₹276665.0
[MilitaryPatternExtractor] Static extracted debits: ₹108525.0
[UnifiedDefensePayslipProcessor] Using ONLY dynamic pattern extraction to prevent false positives
[PayslipSectionClassifier] RH12 21125 classified as DEDUCTIONS (context: deductions header found)
[UnifiedDefensePayslipProcessor] WARNING: Using legacy arrears patterns - Universal system not available
[UnifiedDefensePayslipProcessor] Extracted date: April 2025
[UnifiedDefensePayslipProcessor] Credits validation - Extracted: ₹255540.0, Stated: ₹276665.0, Variance: 7.6%
[UnifiedDefensePayslipProcessor] Debits validation - Extracted: ₹122132.0, Stated: ₹108525.0, Variance: 12.5%
[UnifiedDefensePayslipProcessor] Creating defense payslip - Credits: ₹255540.0, Debits: ₹122132.0, DSOP: ₹40000.0
[PayslipProcessingStep] Completed in 0.03286290168762207 seconds
[ModularPipeline] Total pipeline execution time: 0.06513190269470215 seconds
[PDFProcessingHandler] processPDFData completed
[PDFProcessingCoordinator] Successfully parsed payslip
CoreData: debug: PostSaveMaintenance: incremental_vacuum with freelist_count - 26 and pages_to_free 5
ℹ️ [INFO] [PDFManager] PDF directory is writable - PDFManager.swift:57 in checkAndCreatePDFDirectory()
[PayslipDataHandler] PDF saved at: /var/mobile/Containers/Data/Application/89E2AE22-F1B9-4122-BE61-A689AC36A9A7/Documents/PDFs/A923A018-13ED-417B-A89E-9423184EE4B7.pdf
[PayslipDataHandler] Successfully verified saved PDF
DataService: Refreshed fetch returned 1 items
PayslipDataHandler: Loaded 1 payslips
PayslipData: Found RH12 value: 0.0 from Risk and Hardship Allowance key
PayslipData: Basic Pay: 144700.0, DA: 88110.0, MSP: 15500.0
PayslipData: knownEarnings: 248310.0, miscCredits: 7230.0
PayslipData: Found RH12 value: 0.0 from Risk and Hardship Allowance key
PayslipData: Basic Pay: 144700.0, DA: 88110.0, MSP: 15500.0
PayslipData: knownEarnings: 248310.0, miscCredits: 7230.0
HomeViewModel: Data loading completed successfully
NotificationCoordinator: Handling payslips refresh notification
PayslipData: Found RH12 value: 0.0 from Risk and Hardship Allowance key
PayslipData: Basic Pay: 144700.0, DA: 88110.0, MSP: 15500.0
PayslipData: knownEarnings: 248310.0, miscCredits: 7230.0
PayslipData: Found RH12 value: 0.0 from Risk and Hardship Allowance key
PayslipData: Basic Pay: 144700.0, DA: 88110.0, MSP: 15500.0
PayslipData: knownEarnings: 248310.0, miscCredits: 7230.0
PayslipsViewModel: Loaded 1 payslips and applied sorting with order: dateDescending
DataService: Refreshed fetch returned 1 items
PayslipDataHandler: Loaded 1 payslips
HomeViewModel: Data loading completed successfully
PayslipData: Found RH12 value: 0.0 from Risk and Hardship Allowance key
PayslipData: Basic Pay: 144700.0, DA: 88110.0, MSP: 15500.0
PayslipData: knownEarnings: 248310.0, miscCredits: 7230.0
